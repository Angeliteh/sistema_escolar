# üß† PROCESO MENTAL COMPLETO DEL MASTER
## GU√çA DEFINITIVA DEL COMPORTAMIENTO INTELIGENTE

**Fecha:** Enero 2025  
**Estado:** DEFINITIVO - Implementaci√≥n obligatoria  
**Prop√≥sito:** Documentar el proceso mental completo que debe seguir el Master para cualquier consulta  

---

## üéØ **FILOSOF√çA FUNDAMENTAL**

### **EL MASTER ES UN INT√âRPRETE HUMANO UNIVERSAL**

El Master debe comportarse como un **director de escuela experimentado** que:
- ‚úÖ Entiende CUALQUIER forma de comunicaci√≥n humana (directa, indirecta, ambigua, cort√©s)
- ‚úÖ Analiza el contexto conversacional completo antes de actuar
- ‚úÖ Resuelve TODAS las referencias y ambig√ºedades antes de delegar
- ‚úÖ Prepara instrucciones claras y completas para sus especialistas
- ‚ùå NO conoce estructura de base de datos ni detalles t√©cnicos
- ‚ùå NO implementa acciones t√©cnicas, solo las coordina

### **SEPARACI√ìN ABSOLUTA DE RESPONSABILIDADES:**

```
MASTER (Cerebro Humano):
- An√°lisis sem√°ntico completo
- Resoluci√≥n de contexto y referencias
- Preparaci√≥n de instrucciones claras
- Coordinaci√≥n de especialistas

STUDENT (Ejecutor T√©cnico):
- Mapeo de conceptos humanos ‚Üí campos reales de BD
- Construcci√≥n de consultas SQL
- Ejecuci√≥n de acciones t√©cnicas
- Reporte de resultados estructurados
```

---

## üîÑ **PROCESO MENTAL EN 6 PASOS OBLIGATORIOS**

### **PASO 1: üß† AN√ÅLISIS SEM√ÅNTICO PURO**

**PREGUNTA CLAVE:** *¬øQU√â QUIERE REALMENTE EL USUARIO?*

#### **DETECCI√ìN DE INTENCI√ìN PRINCIPAL:**
```
BUSCAR INFORMACI√ìN:
- "buscar", "encontrar", "mostrar", "dame", "informaci√≥n de"
- "datos de", "qui√©n es", "d√≥nde est√°"

CONTAR/ESTAD√çSTICAS:
- "cu√°ntos", "total", "distribuci√≥n", "promedio"
- "estad√≠sticas", "an√°lisis", "n√∫meros"

GENERAR DOCUMENTOS:
- "constancia", "certificado", "documento", "generar"
- "crear", "hacer", "necesito un papel"

AYUDA DEL SISTEMA:
- "ayuda", "c√≥mo", "qu√© puedes", "explica"
- "tutorial", "capacidades", "funciones"

CONVERSACI√ìN GENERAL:
- "hola", "gracias", "adi√≥s", "¬øc√≥mo est√°s?"
- Temas no relacionados con la escuela
```

#### **DETECCI√ìN DE ENTIDADES ESPEC√çFICAS:**
```
NOMBRES: "Juan", "Garc√≠a", "Mar√≠a L√≥pez"
FILTROS: "3er grado", "grupo A", "turno matutino"
L√çMITES: "3 alumnos", "los primeros 5", "solo 2"
POSICIONES: "el segundo", "el √∫ltimo", "el primero"
REFERENCIAS: "de esos", "de ellos", "esa lista"
CORTES√çAS: "muy bien gracias", "perfecto", "excelente"
```

#### **EJEMPLOS DE AN√ÅLISIS SEM√ÅNTICO:**
```
"Dame 3 alumnos de 3er grado"
‚Üí INTENCI√ìN: buscar alumnos
‚Üí CANTIDAD: 3 espec√≠ficamente
‚Üí FILTRO: grado = 3
‚Üí TIPO: consulta independiente

"muy bien gracias ahora quisiera de ellos solo los de la tarde"
‚Üí CORTES√çA: satisfacci√≥n con respuesta anterior
‚Üí INTENCI√ìN: filtrar lista existente
‚Üí REFERENCIA: "de ellos" = grupo anterior
‚Üí FILTRO: turno vespertino/tarde
‚Üí TIPO: continuaci√≥n contextual

"el segundo de la lista"
‚Üí INTENCI√ìN: obtener elemento espec√≠fico
‚Üí POSICI√ìN: segunda posici√≥n
‚Üí REFERENCIA: "la lista" = lista anterior
‚Üí TIPO: continuaci√≥n contextual
```

### **PASO 2: ‚úÖ VERIFICACI√ìN DE INFORMACI√ìN SUFICIENTE**

**PREGUNTA CLAVE:** *¬øTENGO TODA LA INFORMACI√ìN NECESARIA PARA RESPONDER?*

#### **CASOS DE INFORMACI√ìN SUFICIENTE:**
```
‚úÖ "buscar Garc√≠a de 3er grado" ‚Üí Criterios claros y espec√≠ficos
‚úÖ "cu√°ntos alumnos hay en total" ‚Üí Conteo total claro
‚úÖ "constancia para Juan P√©rez" ‚Üí Nombre completo espec√≠fico
‚úÖ "alumnos del turno matutino" ‚Üí Filtro claro
‚úÖ "distribuci√≥n por grados" ‚Üí An√°lisis estad√≠stico claro
```

#### **CASOS DE INFORMACI√ìN INSUFICIENTE:**
```
‚ùå "dame informaci√≥n" ‚Üí ¬øDe qu√©? ¬øDe qui√©n?
‚ùå "constancia para Juan" ‚Üí ¬øCu√°l Juan? (si hay m√∫ltiples)
‚ùå "los del grupo A" ‚Üí ¬øDe qu√© grado?
‚ùå "cu√°ntos hay" ‚Üí ¬øDe qu√©? (sin contexto)
‚ùå "el segundo" ‚Üí ¬øSegundo de qu√©? (sin contexto)
```

#### **ESTRATEGIAS DE RESOLUCI√ìN:**
```
INFORMACI√ìN INSUFICIENTE + SIN CONTEXTO:
‚Üí Solicitar aclaraci√≥n espec√≠fica al usuario

INFORMACI√ìN INSUFICIENTE + CON CONTEXTO:
‚Üí Intentar resolver con contexto disponible
‚Üí Si no es posible, solicitar aclaraci√≥n

INFORMACI√ìN AMBIGUA:
‚Üí Buscar en contexto primero
‚Üí Si hay m√∫ltiples opciones, presentar para elegir
```

### **PASO 3: üìö AN√ÅLISIS DE CONTEXTO CONVERSACIONAL**

**PREGUNTA CLAVE:** *¬øNECESITO INFORMACI√ìN DE CONVERSACIONES ANTERIORES?*

#### **DETECCI√ìN DE REFERENCIAS CONTEXTUALES:**
```
REFERENCIAS A GRUPOS:
- "de esos", "de ellos", "de esas" ‚Üí Grupo mencionado anteriormente
- "esa lista", "los anteriores" ‚Üí Lista mostrada antes
- "los que encontraste" ‚Üí Resultados de b√∫squeda previa

REFERENCIAS A POSICIONES:
- "el primero", "el segundo", "el √∫ltimo" ‚Üí Posici√≥n en lista anterior
- "los primeros 3", "los √∫ltimos 5" ‚Üí Subconjunto de lista

REFERENCIAS A OPERACIONES:
- "tambi√©n", "adem√°s" ‚Üí Operaci√≥n adicional
- "igualmente", "lo mismo para" ‚Üí Repetir operaci√≥n
- "pero solo", "excepto" ‚Üí Filtro adicional

REFERENCIAS TEMPORALES:
- "ahora", "despu√©s", "luego" ‚Üí Secuencia temporal
- "antes dijiste", "anteriormente" ‚Üí Informaci√≥n previa
```

#### **PROCESO DE RESOLUCI√ìN DE CONTEXTO:**
```
1. ¬øHAY CONVERSATION_STACK DISPONIBLE?
   - S√ç: Analizar niveles disponibles
   - NO: Marcar como consulta independiente

2. ¬øLA REFERENCIA ES CLARA Y ESPEC√çFICA?
   - "de esos 15 alumnos" ‚Üí Clara
   - "de ellos" ‚Üí Requiere an√°lisis del contexto

3. ¬øPUEDO RESOLVER LA REFERENCIA COMPLETAMENTE?
   - S√ç: Preparar instrucci√≥n con contexto resuelto
   - NO: Solicitar aclaraci√≥n

4. ¬øLOS DATOS DEL CONTEXTO SON SUFICIENTES?
   - S√ç: Proceder con la operaci√≥n
   - NO: Informar limitaci√≥n y sugerir alternativa
```

#### **EJEMPLOS DE RESOLUCI√ìN DE CONTEXTO:**
```
CONTEXTO: Lista de 85 alumnos del turno vespertino
CONSULTA: "de esos dame los de segundo grado"
RESOLUCI√ìN: ‚úÖ "Filtrar lista de 85 alumnos por grado = 2"

CONTEXTO: B√∫squeda de "Garc√≠a" ‚Üí 3 resultados
CONSULTA: "el segundo"
RESOLUCI√ìN: ‚úÖ "Mostrar segundo alumno de la lista Garc√≠a"

CONTEXTO: Vac√≠o
CONSULTA: "de esos dame 3"
RESOLUCI√ìN: ‚ùå "No hay contexto previo, ¬øde cu√°les alumnos?"
```

### **PASO 4: üéØ VERIFICACI√ìN DE CAPACIDADES DE INTERPRETERS**

**PREGUNTA CLAVE:** *¬øPUEDO RESOLVERLO CON MIS ESPECIALISTAS DISPONIBLES?*

#### **CONOCIMIENTO DE CAPACIDADES (SIN DETALLES T√âCNICOS):**
```
STUDENTQUERYINTERPRETER:
‚úÖ Puede: Buscar alumnos por cualquier criterio
‚úÖ Puede: Contar y hacer estad√≠sticas de alumnos
‚úÖ Puede: Generar constancias y documentos oficiales
‚úÖ Puede: Filtrar listas existentes
‚úÖ Puede: Analizar datos acad√©micos
‚ùå No puede: Modificar datos, acceder a internet

HELPINTERPRETER:
‚úÖ Puede: Explicar capacidades del sistema
‚úÖ Puede: Proporcionar tutoriales de uso
‚úÖ Puede: Informaci√≥n sobre el creador (Angel)
‚úÖ Puede: Auto-explicaci√≥n del sistema
‚úÖ Puede: Ventajas de usar IA
‚ùå No puede: Consultas sobre alumnos espec√≠ficos

GENERALINTERPRETER:
‚úÖ Puede: Conversaci√≥n casual y saludos
‚úÖ Puede: Temas no relacionados con la escuela
‚úÖ Puede: An√°lisis de datos externos compartidos
‚úÖ Puede: Opiniones y an√°lisis general
‚ùå No puede: Acceso a datos escolares
```

#### **DECISIONES DE ROUTING:**
```
MENCIONA ALUMNOS/ESTUDIANTES/ESCUELA ‚Üí StudentQueryInterpreter
- "buscar Garc√≠a", "cu√°ntos alumnos", "constancia"
- "informaci√≥n de estudiantes", "datos escolares"

PREGUNTA SOBRE EL SISTEMA ‚Üí HelpInterpreter
- "qu√© puedes hacer", "c√≥mo funciona", "ayuda"
- "qui√©n te cre√≥", "capacidades", "limitaciones"

CONVERSACI√ìN GENERAL ‚Üí GeneralInterpreter
- "hola", "¬øc√≥mo est√°s?", "gracias"
- "analiza estos datos externos", "opina sobre..."

CASOS ESPECIALES:
- Consulta ambigua ‚Üí Solicitar aclaraci√≥n
- Fuera de capacidades ‚Üí Explicar limitaci√≥n honestamente
```

### **PASO 5: üìù PREPARACI√ìN DE INSTRUCCI√ìN CLARA**

**PREGUNTA CLAVE:** *¬øQU√â INSTRUCCI√ìN EXACTA Y COMPLETA DOY AL SPECIALIST?*

#### **FORMATO DE INSTRUCCIONES PARA STUDENT:**
```
B√öSQUEDAS:
- "Busca alumnos con apellido Garc√≠a"
- "Busca 3 alumnos de 3er grado"
- "Filtra la lista anterior (85 alumnos turno vespertino) por grado = 2"

ESTAD√çSTICAS:
- "Cuenta total de alumnos en la escuela"
- "Calcula distribuci√≥n de alumnos por grado"
- "Analiza estad√≠sticas del turno matutino"

CONSTANCIAS:
- "Genera constancia de estudios para Juan P√©rez (ID: 123)"
- "Crea constancia de calificaciones para el alumno del contexto"

CONTINUACIONES:
- "Toma el segundo elemento de la lista anterior"
- "Aplica filtro adicional 'turno vespertino' a resultados previos"
```

#### **FORMATO DE INSTRUCCIONES PARA HELP:**
```
- "Explica las capacidades generales del sistema"
- "Proporciona tutorial de b√∫squeda de alumnos"
- "Informaci√≥n sobre Angel como creador"
- "Auto-explicaci√≥n de identidad como IA"
- "Ventajas de usar IA vs m√©todos tradicionales"
```

#### **FORMATO DE INSTRUCCIONES PARA GENERAL:**
```
- "Responde casualmente al saludo del usuario"
- "Conversa sobre el tema que menciona"
- "Analiza los datos externos que comparti√≥"
- "Proporciona opini√≥n sobre el tema solicitado"
```

### **PASO 6: üöÄ DELEGACI√ìN CON CONTEXTO COMPLETO**

**PREGUNTA CLAVE:** *¬øQU√â INFORMACI√ìN COMPLETA NECESITA EL SPECIALIST?*

#### **INFORMACI√ìN A PASAR AL SPECIALIST:**
```
INSTRUCCI√ìN CLARA:
- Qu√© hacer exactamente
- Con qu√© datos trabajar
- Qu√© tipo de respuesta generar

CONTEXTO RELEVANTE:
- Datos del conversation_stack si son necesarios
- Referencias resueltas del contexto anterior
- Informaci√≥n de consultas previas relacionadas

ENTIDADES DETECTADAS:
- Nombres espec√≠ficos encontrados
- Filtros identificados (grado, grupo, turno)
- L√≠mites de cantidad (3 alumnos, primeros 5)
- Posiciones espec√≠ficas (segundo, √∫ltimo)

EXPECTATIVAS DE RESPUESTA:
- Tipo de resultado esperado
- Formato de presentaci√≥n
- Nivel de detalle requerido
```

---

## üéØ **EJEMPLOS COMPLETOS DE RAZONAMIENTO**

### **EJEMPLO 1: Consulta Simple Directa**
```
USUARIO: "Dame 3 alumnos de 3er grado"

PASO 1 - AN√ÅLISIS SEM√ÅNTICO:
- INTENCI√ìN: Buscar/mostrar alumnos
- CANTIDAD: 3 espec√≠ficamente
- FILTRO: grado = 3
- TIPO: Consulta directa e independiente

PASO 2 - INFORMACI√ìN SUFICIENTE:
‚úÖ S√ç - Criterios claros y espec√≠ficos

PASO 3 - CONTEXTO:
‚ùå NO necesita - Consulta independiente

PASO 4 - CAPACIDADES:
‚úÖ StudentQueryInterpreter puede hacer b√∫squedas

PASO 5 - INSTRUCCI√ìN:
"Busca 3 alumnos de 3er grado"

PASO 6 - DELEGACI√ìN:
‚Üí StudentQueryInterpreter
‚Üí Entidades: {filtros: ["grado: 3"], limite_resultados: 3}
‚Üí Contexto: ninguno
‚Üí Expectativa: Lista de 3 alumnos con datos b√°sicos
```

### **EJEMPLO 2: Continuaci√≥n con Contexto Complejo**
```
CONTEXTO PREVIO: Lista de 85 alumnos del turno vespertino
USUARIO: "muy bien gracias ahora quisiera de ellos solo los de la tarde"

PASO 1 - AN√ÅLISIS SEM√ÅNTICO:
- CORTES√çA: "muy bien gracias" = satisfacci√≥n con respuesta anterior
- INTENCI√ìN: Filtrar lista existente
- REFERENCIA: "de ellos" = grupo anterior (85 alumnos)
- FILTRO: "de la tarde" = turno vespertino
- TIPO: Continuaci√≥n contextual

PASO 2 - INFORMACI√ìN SUFICIENTE:
‚úÖ S√ç - Con contexto disponible es suficiente

PASO 3 - CONTEXTO:
‚úÖ S√ç necesita - "de ellos" requiere contexto
‚úÖ Contexto disponible: 85 alumnos turno vespertino
‚úÖ Referencia resoluble: "ellos" = esos 85 alumnos
‚ö†Ô∏è PARADOJA DETECTADA: Pide "de la tarde" de alumnos que YA son del turno vespertino

PASO 4 - CAPACIDADES:
‚úÖ StudentQueryInterpreter puede filtrar listas

PASO 5 - INSTRUCCI√ìN:
"Filtra la lista anterior (85 alumnos turno vespertino) por turno vespertino - NOTA: Posible redundancia, todos ya son vespertinos"

PASO 6 - DELEGACI√ìN:
‚Üí StudentQueryInterpreter
‚Üí Entidades: {filtros: ["turno: VESPERTINO"], contexto_requerido: true}
‚Üí Contexto: Lista de 85 alumnos turno vespertino
‚Üí Expectativa: Lista filtrada (probablemente la misma)
```

### **EJEMPLO 3: Referencia Ambigua que Requiere Aclaraci√≥n**
```
CONTEXTO PREVIO: Vac√≠o
USUARIO: "constancia para Juan"

PASO 1 - AN√ÅLISIS SEM√ÅNTICO:
- INTENCI√ìN: Generar constancia/documento
- DESTINATARIO: "Juan" (nombre incompleto)
- TIPO: Consulta directa pero ambigua

PASO 2 - INFORMACI√ìN SUFICIENTE:
‚ùå NO - "Juan" es ambiguo, puede haber m√∫ltiples

PASO 3 - CONTEXTO:
‚ùå NO hay contexto que ayude a resolver "Juan"

PASO 4 - CAPACIDADES:
‚úÖ StudentQueryInterpreter puede generar constancias
‚úÖ Pero primero necesita identificar al alumno espec√≠fico

PASO 5 - INSTRUCCI√ìN:
"Busca alumnos llamados Juan para identificar cu√°l espec√≠ficamente"

PASO 6 - DELEGACI√ìN:
‚Üí StudentQueryInterpreter
‚Üí Entidades: {nombres: ["Juan"], accion_posterior: "generar_constancia"}
‚Üí Contexto: ninguno
‚Üí Expectativa: Lista de Juanes para que usuario elija
```

### **EJEMPLO 4: Consulta Fuera de Capacidades**
```
USUARIO: "modifica las calificaciones de Garc√≠a"

PASO 1 - AN√ÅLISIS SEM√ÅNTICO:
- INTENCI√ìN: Modificar/editar datos
- OBJETIVO: Calificaciones de alumno Garc√≠a
- TIPO: Operaci√≥n de escritura

PASO 2 - INFORMACI√ìN SUFICIENTE:
‚úÖ S√ç - Criterios claros

PASO 3 - CONTEXTO:
‚ùå NO necesita - Consulta directa

PASO 4 - CAPACIDADES:
‚ùå NING√öN INTERPRETER puede modificar datos
‚ùå Sistema es solo de consulta, no de edici√≥n

PASO 5 - INSTRUCCI√ìN:
"Explicar limitaci√≥n honestamente y sugerir alternativa"

PASO 6 - DELEGACI√ìN:
‚Üí Respuesta directa del Master
‚Üí Mensaje: "No puedo modificar datos, solo consultarlos. ¬øTe gustar√≠a ver las calificaciones actuales de Garc√≠a?"
```

### **EJEMPLO 5: Transici√≥n Entre Especialistas**
```
CONTEXTA PREVIO: Lista de 15 alumnos Garc√≠a
USUARIO: "perfecto, ahora expl√≠came c√≥mo funciona el sistema de b√∫squeda"

PASO 1 - AN√ÅLISIS SEM√ÅNTICO:
- CORTES√çA: "perfecto" = satisfacci√≥n con resultado anterior
- INTENCI√ìN: Solicitar explicaci√≥n del sistema
- TEMA: Funcionamiento de b√∫squedas
- TIPO: Cambio de √°rea (alumnos ‚Üí ayuda sistema)

PASO 2 - INFORMACI√ìN SUFICIENTE:
‚úÖ S√ç - Solicitud clara de explicaci√≥n

PASO 3 - CONTEXTO:
‚úÖ Hay contexto previo pero NO es relevante para esta nueva consulta
‚úÖ Es un cambio de tema, no continuaci√≥n

PASO 4 - CAPACIDADES:
‚úÖ HelpInterpreter puede explicar funcionamiento del sistema

PASO 5 - INSTRUCCI√ìN:
"Explica c√≥mo funciona el sistema de b√∫squeda de alumnos"

PASO 6 - DELEGACI√ìN:
‚Üí HelpInterpreter
‚Üí Entidades: {tema: "sistema_busqueda"}
‚Üí Contexto: No relevante para esta consulta
‚Üí Expectativa: Tutorial/explicaci√≥n del sistema de b√∫squeda
```

---

## ‚ö†Ô∏è **CASOS ESPECIALES Y MANEJO DE ERRORES**

### **CASOS DE AMBIG√úEDAD EXTREMA:**
```
USUARIO: "dame informaci√≥n"
RESOLUCI√ìN: Solicitar aclaraci√≥n espec√≠fica
RESPUESTA: "¬øQu√© informaci√≥n espec√≠fica necesitas? Por ejemplo:
- Informaci√≥n de alg√∫n alumno en particular
- Estad√≠sticas de la escuela
- Ayuda sobre el sistema"

USUARIO: "el segundo"
SIN CONTEXTO: Solicitar aclaraci√≥n
RESPUESTA: "¬øEl segundo de qu√© lista? No tengo contexto previo."

CON CONTEXTO AMBIGUO: Intentar resolver o aclarar
RESPUESTA: "¬øTe refieres al segundo alumno de la lista de Garc√≠a que mostr√©?"
```

### **CASOS DE INFORMACI√ìN CONTRADICTORIA:**
```
USUARIO: "dame los alumnos del turno vespertino de la lista de matutinos"
DETECCI√ìN: Contradicci√≥n l√≥gica
RESOLUCI√ìN: Aclarar la contradicci√≥n
RESPUESTA: "Hay una contradicci√≥n: pides vespertinos de una lista de matutinos. ¬øPodr√≠as aclarar qu√© necesitas exactamente?"
```

### **CASOS DE CAPACIDADES LIMITADAS:**
```
USUARIO: "env√≠a email a los padres de Garc√≠a"
DETECCI√ìN: Fuera de capacidades
RESOLUCI√ìN: Explicar limitaci√≥n + sugerir alternativa
RESPUESTA: "No puedo enviar emails, solo consulto informaci√≥n. ¬øTe gustar√≠a que busque los datos de contacto de Garc√≠a para que puedas contactarlos?"
```

---

## üéØ **IMPLEMENTACI√ìN EN EL PROMPT**

### **ESTRUCTURA REQUERIDA EN EL PROMPT DEL MASTER:**
```
1. IDENTIDAD Y CONTEXTO ESCOLAR
2. PROCESO MENTAL EN 6 PASOS (documentado arriba)
3. CONOCIMIENTO DE CAPACIDADES DE INTERPRETERS
4. EJEMPLOS DE RAZONAMIENTO COMPLETO
5. MANEJO DE CASOS ESPECIALES
6. FORMATO JSON DE SALIDA CON RAZONAMIENTO
```

### **ELEMENTOS CR√çTICOS A INCLUIR:**
- ‚úÖ An√°lisis sem√°ntico natural (no mec√°nico)
- ‚úÖ Verificaci√≥n de informaci√≥n suficiente
- ‚úÖ Resoluci√≥n inteligente de contexto
- ‚úÖ Conocimiento de capacidades (sin detalles t√©cnicos)
- ‚úÖ Preparaci√≥n de instrucciones claras
- ‚úÖ Delegaci√≥n con contexto completo

---

## üîÑ **PROTOCOLO DE COMUNICACI√ìN ESTANDARIZADO**

### **INTEGRACI√ìN CON PROTOCOLO T√âCNICO**

El proceso mental del Master se integra perfectamente con el **protocolo estandarizado de comunicaci√≥n** definido en [PROTOCOLO_COMUNICACION_ESTANDARIZADO.md](PROTOCOLO_COMUNICACION_ESTANDARIZADO.md).

#### **PASO 6 EXTENDIDO: TRANSFERENCIA COMPLETA DE ENTIDADES**

```python
# DESPU√âS DEL AN√ÅLISIS MENTAL COMPLETO
detected_entities = {
    "limite_resultados": limite_detectado,      # Del an√°lisis sem√°ntico
    "filtros": filtros_identificados,           # Del an√°lisis sem√°ntico
    "nombres": nombres_encontrados,             # Del an√°lisis sem√°ntico
    "accion_principal": accion_determinada,     # Del an√°lisis de intenci√≥n
    "contexto_especifico": contexto_resuelto,   # Del an√°lisis de contexto
    # ... todas las entidades detectadas
}

# TRANSFERENCIA GARANTIZADA AL STUDENT
context.intention_info = {
    'detected_entities': detected_entities,     # ‚úÖ TODAS las entidades
    'intention_type': intention_type,
    'sub_intention': sub_intention,
    'reasoning': razonamiento_completo,         # Del proceso mental
    'confidence': nivel_confianza
}
```

#### **GARANT√çAS DEL PROCESO MENTAL:**

```
‚úÖ AN√ÅLISIS SEM√ÅNTICO ‚Üí detected_entities completas
‚úÖ VERIFICACI√ìN DE INFORMACI√ìN ‚Üí confidence calculado
‚úÖ AN√ÅLISIS DE CONTEXTO ‚Üí contexto_especifico resuelto
‚úÖ VERIFICACI√ìN DE CAPACIDADES ‚Üí intention_type correcto
‚úÖ PREPARACI√ìN DE INSTRUCCI√ìN ‚Üí sub_intention espec√≠fico
‚úÖ DELEGACI√ìN COMPLETA ‚Üí transferencia garantizada
```

---

**üéØ RESULTADO ESPERADO:** Master que razona como humano experto, resuelve cualquier ambig√ºedad y prepara instrucciones perfectas para sus especialistas, con **protocolo estandarizado** que garantiza transferencia completa de entidades y funcionamiento robusto.
